<div class="admin-container">
  <div class="admin-header">
    <h1 class="page-title">Projekte hinzuf√ºgen</h1>
  </div>
  
  <div class="add-project-form">
    <h2>Neues Projekt hinzuf√ºgen</h2>
    <form (ngSubmit)="onSubmit()" #projectForm="ngForm" class="project-form">
      <div class="form-columns">
        <div class="form-column">
          <div class="form-group">
            <label for="title">Titel</label>
            <input 
              type="text" 
              id="title" 
              name="title" 
              [(ngModel)]="newProject.title" 
              required
              placeholder="z.B. Eleganter Klapptisch">
          </div>

          <div class="form-group">
            <label for="description">Beschreibung</label>
            <textarea 
              id="description" 
              name="description" 
              [(ngModel)]="newProject.description" 
              required
              placeholder="Beschreiben Sie das Projekt..."></textarea>
          </div>

          <div class="form-group">
            <label for="category">Kategorie</label>
            <select 
              id="category" 
              name="category" 
              [(ngModel)]="newProject.category" 
              required>
              <option value="">Bitte w√§hlen...</option>
              <option value="moebel">M√∂bel</option>
              <option value="innenausbau">Innenausbau</option>
              <option value="restaurierung">Restaurierung</option>
            </select>
          </div>

          <div class="form-group">
            <label for="completionDate">Fertigstellungsdatum</label>
            <input 
              type="date" 
              id="completionDate" 
              name="completionDate" 
              [(ngModel)]="newProject.completionDate" 
              required>
          </div>
        </div>

        <div class="form-column">
          <div class="form-group image-upload">
            <label for="image">Projektbilder</label>
            <div class="image-preview-container" [class.has-images]="imagePreviews.length > 0">
              <div class="image-previews" *ngIf="imagePreviews.length > 0">
                <div class="image-preview" *ngFor="let preview of imagePreviews">
                  <img [src]="preview" alt="Bildvorschau">
                </div>
              </div>
              <div class="upload-placeholder" *ngIf="imagePreviews.length === 0">
                <i class="upload-icon">üì∏</i>
                <span>Klicken Sie hier oder ziehen Sie Bilder hierher</span>
              </div>
              <input 
                type="file" 
                id="image" 
                name="image" 
                (change)="onFileSelected($event)" 
                accept="image/*"
                multiple
                required
                #fileInput>
            </div>
            <button type="button" class="change-image-btn" *ngIf="imagePreviews.length > 0" (click)="fileInput.click()">
              Bilder √§ndern
            </button>
            <div class="error-message" *ngIf="projectForm.submitted && newProject.images.length === 0">
              Bitte w√§hlen Sie mindestens ein Bild aus
            </div>
          </div>
        </div>
      </div>

      <div class="form-actions">
        <button type="button" class="cancel-btn" (click)="cancel()">Abbrechen</button>
        <button type="submit" [disabled]="!projectForm.form.valid || isSubmitting || newProject.images.length === 0">
          {{ isSubmitting ? 'Wird gespeichert...' : 'Projekt hinzuf√ºgen' }}
        </button>
      </div>
    </form>
  </div>
</div> 